<h1 class="page-title">Flights</h1>

<table class="table">
  <thead>
  <tr>
    <th>Number</th>
    <th>Departure airport</th>
    <th>Arrival airport</th>
    <th>Business class seats</th>
    <th>Economy class seats</th>
    <th>Departure date</th>
    <th>Arrival date</th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  <% @flights.each do |flight| %>
    <tr>
      <td><%= flight.number %></td>
      <td><%= flight.departure_airport %></td>
      <td><%= flight.arrival_airport %></td>
      <td><%= flight.business_class_seats %></td>
      <td><%= flight.economy_class_seats %></td>
      <td><%= flight.departure_date.strftime("%m/%d/%Y %I:%M %p") %></td>
      <td><%= (flight.departure_date + flight.duration.minutes).strftime("%m/%d/%Y %I:%M %p") %></td>
      <td><%= link_to "Reserve", new_reservation_path(flight_id: flight.id), class: "button" %></td>
    </tr>
  <% end %>
  </tbody>
</table>

<%= paginate @flights %>